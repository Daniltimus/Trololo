!function(r){var t={};function n(e){if(t[e])return t[e].exports;var a=t[e]={i:e,l:!1,exports:{}};return r[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=r,n.c=t,n.d=function(e,a,r){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(a,e){if(1&e&&(a=n(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var t in a)n.d(r,t,function(e){return a[e]}.bind(null,t));return r},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="",n(n.s=27)}([,,function(e,a){e.exports=Roblox},function(e,a){e.exports=CoreUtilities},,function(e,a,r){"use strict";var t=r(2),n=r(7),i=r.n(n).a.module("placesList",["robloxApp","ui.bootstrap","modal","thumbnails"]).config(["languageResourceProvider",function(e){t.Lang.PlacesListResources&&e.setLanguageKeysFromFile(t.Lang.PlacesListResources)}]);a.a=i},function(e,a){e.exports=CoreRobloxUtilities},function(e,a){e.exports=angular},,,,function(e,a,r){"use strict";r.d(a,"d",function(){return l}),r.d(a,"b",function(){return s}),r.d(a,"c",function(){return o}),r.d(a,"a",function(){return c});var t=r(2),n=r(6),i=(null===t.CurrentUser||void 0===t.CurrentUser?void 0:t.CurrentUser.userId)?"gameSort_".concat(t.CurrentUser.userId):"gameSort_guest",l=function(e,m){var a=e.sorts,u=e.timeFilters,p=e.pageContext,d=(new Date).getTime(),r=n.localStorageService.getLocalStorage(i)||{},g={};a.forEach(function(e,a){var r=e.token,t=e.displayName,n=e.name,i=e.gameSetTargetId,l=e.tokenExpiryInSeconds,s=e.contextCountryRegionId,o=e.timeOptionsAvailable,c=a;g[n]={name:n,displayName:t,token:r,gameSetTargetId:i,dateStoredTime:d,tokenExpiryInSeconds:l,gameSortContext:m,sortPosition:c,pageContext:p,contextCountryRegionId:s,timeOptionsAvailable:o,timeFilters:u}});var t=Object.assign(r,g);n.localStorageService.setLocalStorage(i,t)},s=function(e){var a=n.localStorageService.getLocalStorage(i);return a?a[e]:null},o=function(e){var a=(new Date).getTime();return e.dateStoredTime+1e3*e.tokenExpiryInSeconds<a},c=function(e){return 0<(null==e?void 0:e.length)?1e3*e[0].tokenExpiryInSeconds:36e5}},,,function(e,a){e.exports=HeaderScripts},,,,,,,function(e,a){function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l(e){return e.split("/").pop().replace(".html","")}var r={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,a,t,n){return e.module(a,[]).run(["$templateCache",function(r){t&&t.keys().forEach(function(e){var a=i(l(e));r.put(a,t(e))}),n&&n.keys().forEach(function(e){var a=i(l(e));r.put(a,function(e){return e.replace(/<\/?script[^>]*>/gi,"")}(n(e)))})}])}};e.exports=r},,,,,,function(e,a,r){"use strict";r.r(a);var t=r(7),n=r.n(t),i=r(21),l=(r(28),r(11),r(5));Object(i.importFilesUnderPath)(r(29)),Object(i.importFilesUnderPath)(r(31)),Object(i.importFilesUnderPath)(r(37)),Object(i.importFilesUnderPath)(r(41));var s=r(45),o=Object(i.templateCacheGenerator)(n.a,"placesListHtmlTemplateApp",s);n.a.element(function(){n.a.bootstrap("#places-list-container",[l.a.name,o.name])})},function(e,a,r){},function(e,a,r){var t={"./resources.js":30};function n(e){var a=i(e);return r(a)}function i(e){var a=t[e];if(a+1)return a;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(t)},n.resolve=i,(e.exports=n).id=29},function(e,a,r){"use strict";r.r(a);var t=r(2),n=r(5),i={templateUrls:{placesListContainer:"places-list-container",realtimePlacesListContainer:"realtime-places-list-container",gameCard:"game-card",gameTile:"game-tile",gameIcon:"game-icon"},modals:{playerInteraction:{templateName:"player-interaction",controllerName:"playerInteractionController"}},apiSets:{getFriendsListUrl:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.friendsApi,"/v1/users/{userId}/friends"):"/v1/users/{userId}/friends",retryable:!0,withCredentials:!0},getPresences:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.presenceApi,"/v1/presence/users"):"/v1/presence/users",retryable:!0,withCredentials:!0},multiGetPlaceDetails:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.gamesApi,"/v1/games/multiget-place-details"):"/v1/games/multiget-place-details",retryable:!0,withCredentials:!0},multiGetGameThumbnails:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.thumbnailsApi,"/v1/games/multiget/thumbnails?format=png&defaults=true"):"/v1/games/multiget/thumbnails?format=png&defaults=true",retryable:!0,withCredentials:!0},getHomeGameSorts:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.gamesApi,"/v1/games/sorts"):"/v1/games/sorts?model.gameSortsContext=HomeSorts",retryable:!0,withCredentials:!0},getGamesList:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.gamesApi,"/v1/games/list"):"/v1/games/list",retryable:!0,withCredentials:!0},getUnifiedGamesSort:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.gamesApi,"/v1/games/sorts?model.gameSortsContext=UnifiedHomeSorts"):"/v1/games/sorts?model.gameSortsContext=UnifiedHomeSorts",retryable:!0,withCredentials:!0},enrollAbTesting:{url:t.EnvironmentUrls?"".concat(t.EnvironmentUrls.abtestingApiSite,"/v1/enrollments"):"/v1/enrollments",retryable:!1,withCredentials:!0}},apiParams:{gameIconMultiGetLimit:30,gameThumbnailsMultiGetLimit:30,placeDetailsMultiGetLimit:50,avatarHeadshotMultiGetLimit:50,maxNumberOfGamesInRealTimePlacesList:72,gameSortsContext:"HomeSorts"},sortFiterIds:{MyRecent:6,FriendActivity:17,TopRetaining:16,MyFavorite:5},sortName:{MyRecent:"MyRecent",MyFavorite:"MyFavorite",FriendActivity:"FriendActivity",TopRetaining:"TopRetaining"},notificationNames:{gameFavoriteNotifications:"GameFavoriteNotifications",gameCloseNotifications:"GameCloseNotifications"},eventStreamParams:{goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}},playersListSelector:"#interaction-container",cacheCriteria:{isEnabled:!0,expirationMS:3e4}};n.a.constant("resources",i),a.default=i},function(e,a,r){var t={"./gameCardDirective.js":32,"./gameIconDirective.js":33,"./gameTileDirective.js":34,"./placesListContainerDirective.js":35,"./scrollBarDirective.js":36};function n(e){var a=i(e);return r(a)}function i(e){var a=t[e];if(a+1)return a;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(t)},n.resolve=i,(e.exports=n).id=31},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(e){return{restrict:"A",scope:!0,replace:!0,templateUrl:e.templateUrls.gameCard}}n.$inject=["resources"],t.a.directive("gameCard",n),a.default=n},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(e){return{restrict:"A",scope:!0,replace:!0,templateUrl:e.templateUrls.gameIcon}}n.$inject=["resources"],t.a.directive("gameIcon",n),a.default=n},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(e){return{restrict:"A",scope:!0,replace:!0,templateUrl:e.templateUrls.gameTile}}n.$inject=["resources"],t.a.directive("gameTile",n),a.default=n},function(e,a,r){"use strict";r.r(a);var c=r(2),m=r(14),v=r(3),t=r(7),h=r.n(t),n=r(5);function i(t,y,i,b,f,l,n,s,o,e){return{restrict:"A",scope:!0,replace:!0,templateUrl:t.templateUrls.placesListContainer,link:function(g,e,a){var r;g.getPlaceThumbnails=function(e){e&&0<e.length&&i.getGameThumbnails(e).then(function(e){e&&0<e.length&&e.forEach(function(e){var a=e.universeId;g.library.placesLibrary[a]&&(g.library.placesLibrary[a].gameThumbnails=e.thumbnails)})})},g.getPlacesDetails=function(e){e&&0<e.length&&i.getPlacesDetails(e).then(function(e){e&&0<e.length&&e.forEach(function(e){var a=e.universeId;g.library.placesLibrary[a]&&(g.library.placesLibrary[a].isPlayable=e.isPlayable,g.library.placesLibrary[a].reasonProhibited=e.reasonProhibited,g.library.placesLibrary[a].description=e.description,g.library.placesLibrary[a].placeUrl=b.getGameDetailsPageUrl(e.universeRootPlaceId))})})},g.getEachPlacesList=function(s){var o=[],c=[],m=g.library.knowledgeOfSorts[s],u=m.numberOfGames?m.numberOfGames:g.layout.maxNumberOfGamesInList,p=g.library.pageContext&&g.library.pageContext.pageId?g.library.pageContext.pageId:null,d=p?m.sortPosition:null;i.getGamesList(m.token,m.gameSetTargetId,u,d,g.library.pageContext).then(function(e){if(e&&e.games&&0<e.games.length){var t=e.games,n=t.length;h.a.forEach(t,function(e,a){var r=h.a.copy(e);r.creatorUrl=b.getProfilePageUrl(r.creatorId),r.playerCountLabel=v.abbreviateNumber.getAbbreviatedValue(r.playerCount),r.creatorByLabel=b.getCreatorBy(r.creatorUrl,r.creatorName),r.votePercentage=f.getVotePercentage(r.totalUpVotes,r.totalDownVotes),g.library.placesLibrary[r.universeId]=r,o.push(r.universeId),c.push(r.placeId)});var a=b.gamesListSeeAllLinks[s];if(a&&p&&d&&(a=a.concat(a.includes("?")?"&":"?","pageId=",p,"&sortPosition=",d)),a){var r=document.getElementById("places-list-container"),i=null==r?void 0:r.dataset;"true"===(null==i?void 0:i.isGamesPageRefactorEnabled)&&(a+="#/sortName/".concat(s))}h.a.forEach(t,function(e,a){var r=f.buildGameReferralUrl(e,s,a+1,n,d,p);t[a].gameReferralUrl=r}),g.library.placesList[s]={games:t,seeAllUrl:a,displayName:m.displayName,numberOfGames:u},y.isPlacesListLoaded||(y.isPlacesListLoaded=!0)}else if(g.library.placesList[s]){g.library.placesList[s]={};var l=g.library.sortNames.indexOf(s);g.library.sortNames.splice(l,1),delete g.library.knowledgeOfSorts[s]}}).then(function(){g.getPlacesDetails(c)})},g.getAllPlacesList=function(){g.library.sortNames&&0<g.library.sortNames.length&&h.a.forEach(g.library.sortNames,function(e){g.getEachPlacesList(e)})},g.countDownTokenExpiration=function(){h.a.forEach(g.library.knowledgeOfSorts,function(e,a){e.timeout=l(function(){e.hasTokenExpired=!0,e.timeout=null},1e3*e.tokenExpiryInSeconds)})},g.$on("$destroy",function(e){h.a.forEach(g.library.knowledgeOfSorts,function(e,a){l.cancel(e.timeout)})}),g.updateKnowledgeOfSorts=function(e,a){var r=e.name;g.library.knowledgeOfSorts[r]?(g.library.knowledgeOfSorts[r].token=e.token,g.library.knowledgeOfSorts[r].tokenExpiryInSeconds=e.tokenExpiryInSeconds):(g.library.knowledgeOfSorts[r]=e,g.library.knowledgeOfSorts[r].sortFilterId=t.sortFiterIds[r]),g.library.knowledgeOfSorts[r].timeout||(g.library.knowledgeOfSorts[r].hasTokenExpired=!1),g.library.knowledgeOfSorts[r].sortPosition=a+1},g.getSorts=function(){i.getHomeGameSorts().then(function(e){e&&e.sorts&&(g.library.pageContext=e.pageContext,e.sorts.forEach(function(e,a){var r=e.name;g.library.sortNames.push(r),g.updateKnowledgeOfSorts(e,a)}),g.countDownTokenExpiration())}).then(g.getAllPlacesList)},g.refreshPlaceList=function(n){!g.library.knowledgeOfSorts[n]||g.library.knowledgeOfSorts[n].hasTokenExpired?i.getHomeGameSorts().then(function(e){if(e&&e.sorts){var t=[];e.sorts.forEach(function(e,a){var r=e.name;t.push(r),r===n&&g.updateKnowledgeOfSorts(e,a)}),g.library.sortNames=t,g.getEachPlacesList(n),!g.library.knowledgeOfSorts[n]||!g.library.knowledgeOfSorts[n].hasTokenExpired&&g.library.knowledgeOfSorts[n].timeout||(g.library.knowledgeOfSorts[n].timeout=l(function(){g.library.knowledgeOfSorts[n].hasTokenExpired=!0,g.library.knowledgeOfSorts[n].timeout=null},g.library.knowledgeOfSorts[n].tokenExpiryInSeconds))}}):g.getEachPlacesList(n)},g.handleMyRecentSort=function(e){e.Type&&g.refreshPlaceList(t.sortName.MyRecent)},g.handleUpdateMyFavoriteSort=function(e){e.Type&&g.refreshPlaceList(t.sortName.MyFavorite)},g.listenToPresenceUpdate=function(){s.on("Roblox.Presence.Update",function(e,a){a&&l(function(){var r=[];a.forEach(function(e){var a=e.userId;e.userPresenceType===o.ingame.status?(g.updatePeopleInGameLibrary(e,!0),g.library.peopleLibrary[a]||(g.library.peopleLibrary[a]={userId:a},r.push(a)),g.library.peopleLibrary[a].playerCount++):g.library.peopleLibrary[a]&&g.library.peopleLibrary[a].presence.userPresenceType===o.ingame.status&&(g.library.peopleLibrary[a].playerCount--,g.removeUserIdFromPeopleInGame(a)),g.library.peopleLibrary[a]&&(g.library.peopleLibrary[a].presence=e)})})})},g.isModalOpenOnThisPlace=function(e){return!!g.library.modalStatus[e]&&g.library.modalStatus[e].isOpen},g.removeUserIdFromPeopleInGame=function(e){var a=g.library.peopleLibrary[e].presence.universeId,r=g.library.peopleLibrary[e].presence.rootPlaceId,t=0;g.isModalOpenOnThisPlace(a)?(g.library.tempPeopleInGameLibrary[r]||(g.library.tempPeopleInGameLibrary[r]=h.a.copy(g.library.peopleInGameLibrary[r])),t=g.library.tempPeopleInGameLibrary[r].indexOf(e),g.library.tempPeopleInGameLibrary[r].splice(t,1)):(t=g.library.peopleInGameLibrary[r].indexOf(e),g.library.peopleInGameLibrary[r].splice(t,1))},g.updatePeopleInGameLibrary=function(e,a){var r=e.rootPlaceId,t=e.universeId,n=e.userId;g.library.peopleInGameLibrary[r]||(g.library.peopleInGameLibrary[r]=[]),g.library.peopleInGameLibrary[r].indexOf(n)<0&&(a?g.isModalOpenOnThisPlace(t)?(g.library.tempPeopleInGameLibrary[r]=h.a.copy(g.library.peopleInGameLibrary[r]),g.library.tempPeopleInGameLibrary[r].push(n)):g.library.peopleInGameLibrary[r].unshift(n):g.library.peopleInGameLibrary[r].push(n))},g.getFriendsInfo=function(e){var r=[];h.a.forEach(e,function(e,a){r.push(a),e.presence&&e.presence.userPresenceType===o.ingame.status&&g.updatePeopleInGameLibrary(e.presence)}),g.library.peopleLibrary=h.a.copy(e)},g.initializeRealTimeSubscriptions=function(){r.Subscribe(t.notificationNames.gameFavoriteNotifications,g.handleUpdateMyFavoriteSort),r.Subscribe(t.notificationNames.gameCloseNotifications,g.handleMyRecentSort)},g.setup=function(){g.layout=b,g.library={placesList:{},placesLibrary:{},sortNames:[],knowledgeOfSorts:{},userId:null===m.authenticatedUser||void 0===m.authenticatedUser?void 0:m.authenticatedUser.id,isAvatarInPlacesListEnabled:!1,peopleLibrary:{},peopleInGameLibrary:{},tempPeopleInGameLibrary:{},modalStatus:{}},h.a.isDefined(c.RealTime)&&(r=c.RealTime.Factory.GetClient()),(Object(c.DeviceMeta)()?Object(c.DeviceMeta)().deviceType:"").toLowerCase()===n.COMPUTER.toLowerCase()&&(g.library.isAvatarInPlacesListEnabled=!0)},g.init=function(){if(g.setup(),g.getSorts(),g.initializeRealTimeSubscriptions(),g.library.isAvatarInPlacesListEnabled){var e=t.cacheCriteria;c.sharedFriendsService.register(g.getFriendsInfo,e),g.listenToPresenceUpdate()}},g.init()}}}i.$inject=["resources","$rootScope","gamesService","layout","utility","$timeout","deviceTypes","$document","presenceTypes","friendsInfoService"],n.a.directive("placesListContainer",i),a.default=i},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(a,r){return{restrict:"A",scope:!0,link:function(e){r.buildScrollbar(a.playersListSelector)}}}n.$inject=["resources","utility"],t.a.directive("scrollBar",n),a.default=n},function(e,a,r){var t={"./gameTileController.js":38,"./placeListContainerController.js":39,"./playerInteractionController.js":40};function n(e){var a=i(e);return r(a)}function i(e){var a=t[e];if(a+1)return a;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(t)},n.resolve=i,(e.exports=n).id=37},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(s,e,o,c,a,m,u){var p=!1;s.goToGameDetails=function(){if(p)return p=!1;if(s.library.knowledgeOfSorts[s.name].isInstantPlayEnabled){var e=s.game.placeId,a=s.game.placeId,r={rootPlaceId:e,placeId:a},t=u.buildPlayGameProperties(e,a,null,null),n={eventName:o.eventStreamParams.joinGameInPlacesList.name,ctx:o.eventStreamParams.joinGameInPlacesList.ctx,properties:r,gamePlayIntentEventCtx:o.eventStreamParams.gamePlayIntentInPlacesList.ctx};u.launchGame(t,n)}else{var i=(new Date).toISOString(),l=s.game.gameReferralUrl;l=c("formatString")(l,{localTimestamp:i}),s.game.gameReferralUrl=l,m.location.href=l}},s.startPlayerInteration=function(){s.library.modalStatus[s.game.universeId]={isOpen:!0};var e=s.library.knowledgeOfSorts[s.name];a.open({templateUrl:o.modals.playerInteraction.templateName,controller:o.modals.playerInteraction.controllerName,resolve:{modalData:{game:s.game,library:s.library,layout:s.layout,sortInfo:e}}}).result.then(function(){},function(){s.library.tempPeopleInGameLibrary&&(angular.forEach(s.library.tempPeopleInGameLibrary,function(e,a){s.library.peopleInGameLibrary[a]=e}),s.library.tempPeopleInGameLibrary={}),s.library.modalStatus[s.game.universeId].isOpen=!1}),p=!0},s.isAnyPlayerInGame=function(){return!(!s.library.peopleInGameLibrary||!s.library.peopleInGameLibrary[s.game.placeId])&&0<s.library.peopleInGameLibrary[s.game.placeId].length}}n.$inject=["$scope","$log","resources","$filter","$uibModal","$window","playGameService"],t.a.controller("gameTileController",n),a.default=n},function(e,a,r){"use strict";function t(){}r.r(a),r(5).a.controller("placeListContainerController",t),a.default=t},function(e,a,r){"use strict";r.r(a);var t=r(5);function n(o,e,c,r,a,m,u){o.sendEventStream=function(e,a){a=a||{},r.sendEventWithTarget(e.name,e.ctx,a)},o.sendGamePlayEvent=function(e){r.sendGamePlayEvent(c.eventStreamParams.gamePlayIntentInPlacesList.ctx,e)},o.joinGame=function(e){var a=o.library.peopleLibrary[e].presence,r=a.rootPlaceId,t=a.placeId,n=a.gameId,i={rootPlaceId:r,placeId:t},l=u.buildPlayGameProperties(r,t,n,e),s={eventName:c.eventStreamParams.joinGameInPlacesList.name,ctx:c.eventStreamParams.joinGameInPlacesList.ctx,properties:i,gamePlayIntentEventCtx:c.eventStreamParams.gamePlayIntentInPlacesList.ctx};u.launchGame(l,s),m.dismiss()},o.openModal=function(){var e={placeId:o.game.placeId};o.sendEventStream(c.eventStreamParams.openModalFromGameTile,e)},o.library=a.library,o.game=a.game,o.layout=a.layout,o.openModal()}n.$inject=["$scope","$log","resources","eventStreamService","modalData","$uibModalInstance","playGameService"],t.a.controller("playerInteractionController",n),a.default=n},function(e,a,r){var t={"./gamesService.js":42,"./layoutService.js":43,"./utilityService.js":44};function n(e){var a=i(e);return r(a)}function i(e){var a=t[e];if(a+1)return a;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(t)},n.resolve=i,(e.exports=n).id=41},function(e,a,r){"use strict";r.r(a);var t=r(2),n=r(7),i=r.n(n),l=r(5),m=r(11);function s(o,l,c){var s=null;return{joinGame:function(e,a){t.GameLauncher.joinGameInstance(e,a,!0,!0)},getHomeGameSorts:function(e){var r=this,a=l.apiParams,t=l.apiSets,n=e||a.gameSortsContext,i={gameSortsContext:n};return s&&clearTimeout(s),c.httpGet(t.getHomeGameSorts,i).then(function(e){if(null==e?void 0:e.sorts){Object(m.d)(e,n);var a=Object(m.a)(e.sorts);s=setTimeout(function(){r.getHomeGameSorts()},a)}return e})},getPlacesDetails:function(e){return function(e,a,r,t){for(var n=[],i=0,l=e.slice(i,a);0<l.length;){var s={};s[t]=l,n.push(c.httpGet(r,s)),i++,l=e.slice(i*a,i*a+a)}return o.all(n)}(e,l.apiParams.placeDetailsMultiGetLimit,l.apiSets.multiGetPlaceDetails,"placeIds").then(function(e){if(e&&0<e.length){var a=[];return i.a.forEach(e,function(e){a=a.concat(e)}),a}return null})},getGamesList:function(e,a,r,t,n){var i={sortToken:e,gameSetTargetId:a,maxRows:r,sortPosition:t};return n&&n.pageId&&(i["pageContext.pageId"]=n.pageId),c.httpGet(l.apiSets.getGamesList,i)},getUnifiedGamesSort:function(){return c.httpGet(l.apiSets.getUnifiedGamesSort,null)}}}s.$inject=["$q","resources","httpService"],l.a.factory("gamesService",s),a.default=s},function(e,a,r){"use strict";r.r(a);var s=r(14),t=r(5);function n(e,r,t,a){var n=e,i="/users/".concat(null===s.authenticatedUser||void 0===s.authenticatedUser?void 0:s.authenticatedUser.id,"/profile"),l="/users/".concat(null===s.authenticatedUser||void 0===s.authenticatedUser?void 0:s.authenticatedUser.id,"/favorites#!/places");return{seeAllBtnText:n.get("Action.SeeAll"),gamesListDisplayName:n.get("Label.PlacesListName"),playerInteractionTitle:n.get("Label.ContextMenuTitle"),maxNumberOfGamesInList:6,maxNumberOfDisplayAvatars:3,maxNumberOfDisplayAvatarsInLargeGameTile:5,isRealTimePlacesListLoaded:!1,gamesListSeeAllLinks:{MyRecent:r.getAbsoluteUrl("games?SortFilter=6"),FriendActivity:r.getAbsoluteUrl("games?SortFilter=17"),TopRetaining:r.getAbsoluteUrl("games?SortFilter=16"),MyFavorite:r.getAbsoluteUrl(l),Popular:r.getAbsoluteUrl("games?SortFilter=1")},getGameDetailsPageUrl:function(e){var a=t("formatString")("/games/{placeId}/gamename",{placeId:e});return r.getAbsoluteUrl(a)},getProfilePageUrl:function(e){var a=t("formatString")(i,{userId:e});return r.getAbsoluteUrl(a)},getPlayerCountLabel:function(e){return n.get("Label.PlayingPhrase",{playerCount:e})},getCreatorBy:function(e,a){var r=t("formatString")("<a class='text-link' href='{creatorUrl}' >{creatorName}</a>",{creatorUrl:e,creatorName:a});return n.get("Label.CreatorBy",{creatorLink:r})},interactionLabels:{viewDetails:n.get("Action.ViewDetails"),joinGame:n.get("Action.JoinGame")},scrollDirection:{prev:"prev",next:"next"},scrollingParams:{curIndex:0,leftOffset:480,padding:6,leftStyle:{left:0},isLeftScrollerDisabled:!1,isRightScrollerDisabled:!1,currentGameTileWidth:0},thumbnailTypes:a.thumbnailTypes,avatarHeadshotSizes:a.avatarHeadshotSize}}n.$inject=["languageResource","urlService","$filter","thumbnailConstants"],t.a.factory("layout",n),a.default=n},function(e,a,r){"use strict";r.r(a);var t=r(7),n=r.n(t),i=r(5);function l(s,o,e){return{getVotePercentage:function(e,a){var r=0;if(!isNaN(e)&&!isNaN(a)){if(0===e){if(0===a)return null;r=0}else r=0===a?100:Math.floor(e/(e+a)*100);100<r&&(r=100)}return"".concat(r,"%")},buildGameReferralUrl:function(e,a,r,t,n,i){var l=o.getGameDetailReferralUrls().home;return n=n||"",i=i||"",s("formatString")(l,{sortName:a,placeId:e.placeId,position:r,totalInSort:t,sortPosition:n,pageId:i})},buildScrollbar:function(e){n.a.element(e).mCustomScrollbar({autoExpandScrollbar:!1,scrollInertia:1,contentTouchScroll:1,mouseWheel:{preventDefault:!0}})}}}l.$inject=["$filter","urlService","resources"],i.a.factory("utility",l),a.default=l},function(e,a,r){var t={"./directives/templates/gameCard.html":46,"./directives/templates/gameIcon.html":47,"./directives/templates/gameTile.html":48,"./directives/templates/placesListContainer.html":49,"./directives/templates/playerInteraction.html":50};function n(e){var a=i(e);return r(a)}function i(e){var a=t[e];if(a+1)return a;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(t)},n.resolve=i,(e.exports=n).id=45},function(e,a){e.exports='<div> <a ng-controller="gameTileController" ng-click="goToGameDetails()" ng-href="{{game.gameReferralUrl}}" class="game-card-link"> <div class="game-card-thumb-container"> <span ng-class="{\'icon-placeholder-game\': !library.placesLibrary[game.universeId].gameIcon.imageUrl}"> <thumbnail-2d class="game-card-thumb" thumbnail-type="layout.thumbnailTypes.gameIcon" thumbnail-target-id="game.universeId"></thumbnail-2d> </span> </div> <div class="game-card-name game-name-title" title="{{game.name}}"> {{game.name}} </div> <div class="game-card-info"> <span class="info-label icon-votes-gray"></span> <span class="info-label vote-percentage-label" ng-if="library.placesLibrary[game.universeId].votePercentage">{{library.placesLibrary[game.universeId].votePercentage}}</span> <span class="info-label no-vote" ng-if="!library.placesLibrary[game.universeId].votePercentage"></span> <span class="info-label icon-playing-counts-gray"></span> <span class="info-label playing-counts-label" title="{{library.placesLibrary[game.universeId].playerCount}}">{{library.placesLibrary[game.universeId].playerCountLabel}}</span> </div> </a> </div>'},function(e,a){e.exports='<div class="game-tile-container game-card-thumb-container" ng-class="{\'instant-play\': library.knowledgeOfSorts[name].isInstantPlayEnabled}"> <span ng-class="{\'icon-placeholder-game\': !library.placesLibrary[game.universeId].gameIcon.imageUrl}"> <thumbnail-2d class="game-card-thumb" thumbnail-type="layout.thumbnailTypes.gameIcon" thumbnail-target-id="game.universeId"></thumbnail-2d> </span> <div class="tile-mask"> <span class="icon-play-with-circle"></span> </div> </div>'},function(e,a){e.exports='<div> <a ng-controller="gameTileController" ng-if="!library.peopleInGameLibrary[game.placeId].length && library.knowledgeOfSorts[name].isInstantPlayEnabled" ng-click="goToGameDetails()" class="game-card-link"> <div game-icon></div> <div class="game-card-name game-name-title" title="{{game.name}}"> {{game.name}} </div> <div class="game-card-info"> <span class="info-label icon-votes-gray"></span> <span class="info-label vote-percentage-label" ng-if="library.placesLibrary[game.universeId].votePercentage">{{library.placesLibrary[game.universeId].votePercentage}}</span> <span class="info-label no-vote" ng-if="!library.placesLibrary[game.universeId].votePercentage"></span> <span class="info-label icon-playing-counts-gray"></span> <span class="info-label playing-counts-label" title="{{library.placesLibrary[game.universeId].playerCount}}">{{library.placesLibrary[game.universeId].playerCountLabel}}</span> </div> </a> <a ng-controller="gameTileController" ng-if="!library.peopleInGameLibrary[game.placeId].length && !library.knowledgeOfSorts[name].isInstantPlayEnabled" ng-href="{{game.gameReferralUrl}}" ng-click="goToGameDetails()" class="game-card-link"> <div game-icon></div> <div class="game-card-name game-name-title" title="{{game.name}}"> {{game.name}} </div> <div class="game-card-info"> <span class="info-label icon-votes-gray"></span> <span class="info-label vote-percentage-label" ng-if="library.placesLibrary[game.universeId].votePercentage">{{library.placesLibrary[game.universeId].votePercentage}}</span> <span class="info-label no-vote" ng-if="!library.placesLibrary[game.universeId].votePercentage"></span> <span class="info-label icon-playing-counts-gray"></span> <span class="info-label playing-counts-label" title="{{library.placesLibrary[game.universeId].playerCount}}">{{library.placesLibrary[game.universeId].playerCountLabel}}</span> </div> </a> <div ng-controller="gameTileController" ng-if="library.peopleInGameLibrary[game.placeId].length > 0" ng-click="goToGameDetails()"> <a class="game-card-link" ng-if="library.knowledgeOfSorts[name].isInstantPlayEnabled"> <div game-icon></div> </a> <a class="game-card-link" ng-if="!library.knowledgeOfSorts[name].isInstantPlayEnabled" ng-href="{{game.gameReferralUrl}}"> <div game-icon></div> </a> <div class="cursor-pointer game-card-name game-name-title" ng-class="{\'game-name-oneline\': library.peopleInGameLibrary[game.placeId].length > 0}" title="{{game.name}}" ng-click="startPlayerInteration()"> {{game.name}} </div> <ul class="cursor-pointer game-card-avatar-slots"> <li ng-repeat="userId in library.peopleInGameLibrary[game.placeId] | limitTo: layout.maxNumberOfDisplayAvatars" class="avatar avatar-headshot avatar-headshot-xs" title="{{library.peopleLibrary[userId].name}}" ng-click="startPlayerInteration()"> <span class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="layout.thumbnailTypes.avatarHeadshot" thumbnail-target-id="userId" thumbnail-options="{size: layout.avatarHeadshotSizes.size48}"> </thumbnail-2d> </span> </li> <li class="avatar avatar-headshot avatar-headshot-xs offset-card" ng-if="library.peopleInGameLibrary[game.placeId].length > layout.maxNumberOfDisplayAvatars"> <span class="xsmall avatar-offset-label"> +{{library.peopleInGameLibrary[game.placeId].length - layout.maxNumberOfDisplayAvatars}} </span> </li> </ul> </div> </div>'},function(e,a){e.exports='<div> <div class="col-xs-12 container-list places-list" ng-class="{\'realtime-places-list\': library.placesList[name].numberOfGames > layout.maxNumberOfGamesInList}" ng-repeat="name in library.sortNames" ng-if="library.placesList[name] && library.placesList[name].games.length > 0" ng-controller="placeListContainerController"> <div class="container-header"> <h3>{{library.placesList[name].displayName}}</h3> <a href="{{library.placesList[name].seeAllUrl}}" ng-show="library.placesList[name].seeAllUrl" class="btn-secondary-xs btn-more btn-fixed-width see-all-link-icon">{{layout.seeAllBtnText}}</a> </div> <ul class="hlist game-cards" ng-class="{\'card-grid\': library.placesList[name].numberOfGames > layout.maxNumberOfGamesInList}"> <li class="list-item game-card game-tile" ng-if="!library.isAvatarInPlacesListEnabled" ng-repeat="game in library.placesList[name].games | limitTo: library.placesList[name].numberOfGames"> <div game-card class="game-card-container"></div> </li> <li class="list-item game-card game-tile" ng-if="library.isAvatarInPlacesListEnabled" ng-repeat="game in library.placesList[name].games | limitTo: library.placesList[name].numberOfGames"> <div game-tile class="game-card-container"></div> </li> </ul> </div> </div>'},function(e,a){e.exports='<div> <div class="modal-header player-interaction-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only">Close</span> </button> <h5>{{layout.playerInteractionTitle}}</h5> </div> <div class="border-bottom player-interaction-container"> <span class="cursor-pointer game-icon" ng-class="{\'icon-placeholder-game-icon\': !library.placesLibrary[game.universeId].gameIcon.imageUrl}"> <a ng-href="{{game.gameReferralUrl}}" ng-click="goToGameDetails()" class="game-card-link"> <thumbnail-2d thumbnail-type="layout.thumbnailTypes.gameIcon" thumbnail-target-id="game.universeId"> </thumbnail-2d> </a> </span> <span class="game-info-container"> <a ng-href="{{game.gameReferralUrl}}" ng-click="goToGameDetails()" class="game-name"> {{game.name}} </a> <a ng-href="{{game.gameReferralUrl}}" class="btn-control-sm game-link" ng-if="!library.placesLibrary[game.universeId].isPlayable"> {{layout.interactionLabels.viewDetails}} </a> </span> </div> <div id="interaction-container" scroll-bar class="rbx-scrollbar interaction-container"> <ul class="interaction-list"> <li ng-repeat="userId in library.peopleInGameLibrary[game.placeId]" class="interaction-item"> <span class="avatar avatar-headshot avatar-headshot-sm player-avatar"> <div class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="layout.thumbnailTypes.avatarHeadshot" thumbnail-target-id="userId" thumbnail-options="{size: layout.avatarHeadshotSizes.size48}"> </thumbnail-2d> </div> </span> <div class="border-bottom player-info"> <span class="player-name">{{library.peopleLibrary[userId].name}}</span> <button class="cursor-pointer btn-primary-sm player-action" ng-click="joinGame(userId)" ng-disabled="!library.placesLibrary[game.universeId].isPlayable"> {{layout.interactionLabels.joinGame}} </button> </div> </li> </ul> </div> </div>'}]);
//# sourceMappingURL=https://js.rbxcdn.com/6cbc08e7fd703444888a-placesList.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("PlacesList");